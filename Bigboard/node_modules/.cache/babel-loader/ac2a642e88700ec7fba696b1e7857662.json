{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\saite\\\\Desktop\\\\Bigboard\\\\Front-end-project--Bigboard\\\\Front-end-project--Bigboard\\\\Bigboard\\\\src\\\\News.js\";\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\n\n/* eslint-disable jsx-a11y/no-distracting-elements */\nimport React from \"react\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nimport \"./News.css\";\n\nclass News extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      Data: \"**Provide your choice of company stock ticker to display the latest news\"\n    };\n  }\n\n  componentDidUpdate(pP) {\n    if (pP.currentStockCode !== this.props.currentStockCode) {\n      console.log(this.props.currentStockCode);\n      let startDate = Math.round(new Date().getTime() / 1000);\n      let endDate = startDate - 72 * 3600;\n      startDate = moment.unix(startDate).format(\"YYYY MMM DD\");\n      var arr1 = startDate.split(\" \");\n      var startmm = moment().month(arr1[1]).format(\"MM\");\n      startDate = arr1[0] + \"-\" + startmm + \"-\" + arr1[2];\n      endDate = moment.unix(endDate).format(\"YYYY MMM DD\");\n      var arr2 = endDate.split(\" \");\n      var endmm = moment().month(arr2[1]).format(\"MM\");\n      endDate = arr2[0] + \"-\" + endmm + \"-\" + arr2[2];\n      axios.get(\"https://finnhub.io/api/v1/company-news\", {\n        params: {\n          symbol: this.props.currentStockCode,\n          from: endDate,\n          to: startDate,\n          token: \"bu5pnnf48v6qku34c7vg\"\n        }\n      }).then(response => {\n        // console.log(response.data[0].headline);\n        var headlines = \"\";\n\n        for (var i = 0; i < response.data.length; i++) {\n          headlines += response.data[i].headline + \".\";\n        } // console.log(headlines);\n\n\n        this.setState({\n          Data: headlines\n        }, () => {});\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container footer\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex breaking-news\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"ticker\",\n          className: \"ticker d-flex news\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"d-flex align-items-center\",\n            children: \"\\xA0NEWS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"jScroller\", {\n          className: \"news-scroll\",\n          behavior: \"scroll\",\n          direction: \"left\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            children: [\" \", this.state.Data]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default News;","map":{"version":3,"sources":["C:/Users/saite/Desktop/Bigboard/Front-end-project--Bigboard/Front-end-project--Bigboard/Bigboard/src/News.js"],"names":["React","axios","moment","News","Component","state","Data","componentDidUpdate","pP","currentStockCode","props","console","log","startDate","Math","round","Date","getTime","endDate","unix","format","arr1","split","startmm","month","arr2","endmm","get","params","symbol","from","to","token","then","response","headlines","i","data","length","headline","setState","render"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\r\n/* eslint-disable jsx-a11y/no-distracting-elements */\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport \"./News.css\";\r\n\r\nclass News extends React.Component {\r\n  // constructor(props){\r\n  //     super(props);\r\n  // }\r\n  state = {\r\n    Data: \"**Provide your choice of company stock ticker to display the latest news\",\r\n  };\r\n  componentDidUpdate(pP) {\r\n    if (pP.currentStockCode !== this.props.currentStockCode) {\r\n      console.log(this.props.currentStockCode);\r\n      let startDate = Math.round(new Date().getTime() / 1000);\r\n      let endDate = startDate - 72 * 3600;\r\n      startDate = moment.unix(startDate).format(\"YYYY MMM DD\");\r\n      var arr1 = startDate.split(\" \");\r\n      var startmm = moment().month(arr1[1]).format(\"MM\");\r\n\r\n      startDate = arr1[0] + \"-\" + startmm + \"-\" + arr1[2];\r\n\r\n      endDate = moment.unix(endDate).format(\"YYYY MMM DD\");\r\n      var arr2 = endDate.split(\" \");\r\n\r\n      var endmm = moment().month(arr2[1]).format(\"MM\");\r\n\r\n      endDate = arr2[0] + \"-\" + endmm + \"-\" + arr2[2];\r\n\r\n      axios\r\n        .get(\"https://finnhub.io/api/v1/company-news\", {\r\n          params: {\r\n            symbol: this.props.currentStockCode,\r\n            from: endDate,\r\n            to: startDate,\r\n            token: \"bu5pnnf48v6qku34c7vg\",\r\n          },\r\n        })\r\n        .then((response) => {\r\n          // console.log(response.data[0].headline);\r\n          var headlines = \"\";\r\n          for (var i = 0; i < response.data.length; i++) {\r\n            headlines += response.data[i].headline + \".\";\r\n          }\r\n          // console.log(headlines);\r\n          this.setState({ Data: headlines }, () => {});\r\n        });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container footer\">\r\n        <div className=\"d-flex breaking-news\">\r\n          <div id=\"ticker\" className=\"ticker d-flex news\">\r\n            <span className=\"d-flex align-items-center\">&nbsp;NEWS</span>\r\n          </div>\r\n          <jScroller className=\"news-scroll\" behavior=\"scroll\" direction=\"left\">\r\n            <a href=\"#\"> {this.state.Data}</a>\r\n          </jScroller>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default News;\r\n"]},"metadata":{},"sourceType":"module"}